(function(a){var b={init:function(a){},html:function(a){return this.html(a)},textile:function(a){function p(a){var m=/^bq\.(\.)?\s*/;var n=/^fn(\d+)\.\s*(.*)/;var p=0;var q="";var r=0;var s="";var t=/^p(\S*)\.\s*(.*)/;var u=/^table\s*\{(.*)\}\..*/;var v=/^\{(\S+)\}\.\s*\|/;var w=a.split(/\r?\n/);for(var x=0;x<w.length;x++){if(w[x].indexOf("[")===0){var y=w[x].indexOf("]");var z=w[x].substring(1,y);var A=w[x].substring(y+1);h[z]=A}}for(x=0;x<w.length;x++){var B="";if(w[x].indexOf("[")===0){continue}B=t.exec(w[x]);if(B){i(1);e=1;g+=w[x].replace(t,"<p"+k(B[1])+">"+o(B[2]));continue}B=/^h(\d)(\S*)\.\s*(.*)/.exec(w[x]);if(B){i(1);g+=l("h"+B[1],k(B[2]),o(B[3]))+f;continue}B=n.exec(w[x]);if(B){i(1);e=1;g+=w[x].replace(n,'<p id="fn'+B[1]+'"><sup>'+B[1]+"</sup>"+o(B[2]));continue}if(w[x].indexOf("*")===0){s="<ul>";q="</ul>"}else if(w[x].indexOf("#")===0){s="<ol>";q="</ol>"}else{while(r>0){g+=q;if(r>1){g+="</li>"}else{g+="\n"}g+="\n";r--}s=""}if(s){i(1);var C=/^([*#]+)\s*(.*)/.exec(w[x]);var D=C[1].length;while(D<r){g+=q+"</li>\n";r--}while(r<D){g=g.replace(/<\/li>\n$/,"\n");g+=s;r++}g+=l("li","",o(C[2]))+"\n";continue}if(w[x].match(u)){i(1);p=1;g+=w[x].replace(u,'<table style="$1;">\n');continue}if(w[x].indexOf("|")===0||w[x].match(v)){i(1);if(!p){g+="<table>\n";p=1}var E="";var F="";var G=v.exec(w[x]);if(G){E=j("style",G[1]);w[x]=w[x].replace(v,"|")}var H=w[x].split("|");for(var I=1;I<H.length-1;I++){var J="td";if(H[I].indexOf("_.")===0){J="th";H[I]=H[I].substring(2)}H[I]=o(H[I]);var K=/\^([<>=\^~\/\\\{]+.*?)\.(.*)/.exec(H[I]);var L="";var M="";if(K!==null){H[I]=K[2];var N=/\\(\d+)/.exec(K[1]);if(N!==null){L+=j("colspan",N[1])}var O=/\/(\d+)/.exec(K[1]);if(O!==null){L+=j("rowspan",O[1])}var P=/([\^~])/.exec(K[1]);if(P!==null){M+="vertical-align:"+b[P[1]]+";"}var Q=/(<>|=|<|>)/.exec(K[1]);if(Q!==null){M+="text-align:"+b[Q[1]]+";"}var R=/\{([^\}]+)\}/.exec(K[1]);if(R!==null){M+=R[1]}if(M!==""){L+=j("style",M)}}F+=l(J,L,H[I])}g+="\t"+l("tr",E,F)+"\n";continue}if(p){g+="</table>"+f;p=0}if(w[x]===""){i()}else if(!e){B=m.exec(w[x]);if(B){w[x]=w[x].replace(m,"");g+="<blockquote>";c=1;if(B[1]){d=1}}g+="<p>"+o(w[x]);e=1}else{g+=o(w[x])}}i();return g}function o(a){var b={"'":"&#8217;"," - ":" &#8211; ","--":"&#8212;"," x ":" &#215; ","\\.\\.\\.":"&#8230;","\\(C\\)":"&#169;","\\(R\\)":"&#174;","\\(TM\\)":"&#8482;"};var c={b:"\\*\\*",i:"__",em:"_",strong:"\\*",cite:"\\?\\?",sup:"\\^",sub:"~",span:"\\%",code:"@",ins:"\\+",del:"-"};var d="";for(d in b){if(b.hasOwnProperty(d)){a=a.replace(new RegExp(d,"g"),b[d])}}var e="";for(e in c){if(c.hasOwnProperty(e)){a=n(a,RegExp("^"+c[e]+"(.+?)"+c[e]),e,"");a=n(a,RegExp(" "+c[e]+"(.+?)"+c[e]),e," ")}}a=a.replace(/\[(\d+)\]/g,'<sup><a href="#fn$1">$1</a></sup>');a=a.replace(/([A-Z]+)\((.*?)\)/g,'<acronym title="$2">$1</acronym>');a=a.replace(/\"([^\"]+)\":((http|https|mailto):\S+)/g,'<a href="$2">$1</a>');a=m(a,/!([^!\s]+)!:(\S+)/);a=m(a,/!([^!\s]+)!/);a=a.replace(/"([^\"]+)":(\S+)/g,function(a,b,c){return l("a",j("href",h[c]),b)});a=a.replace(/(=)?"([^\"]+)"/g,function(a,b,c){return b?a:"&#8220;"+c+"&#8221;"});return a}function n(a,b,c,d){var e="";e=b.exec(a);while(e){var f=k(e[1]);e[1]=e[1].replace(/^[\[\{\(]\S+[\]\}\)]/g,"");e[1]=e[1].replace(/^[<>=()]+/,"");a=a.replace(b,d+l(c,f,e[1]));e=b.exec(a)}return a}function m(a,b){var c=b.exec(a);if(c!==null){var d="";var e=/\((.*)\)$/.exec(c[1]);if(e!==null){d=j("alt",e[1])+j("title",e[1]);c[1]=c[1].replace(/\((.*)\)$/,"")}var f="";if(c[1].match(/^[><]/)){f="float:"+(c[1].indexOf(">")===0?"right;":"left;");c[1]=c[1].replace(/^[><]/,"")}var g=/(\(+)/.exec(c[1]);if(g){f+="padding-left:"+g[1].length+"em;"}var h=/(\)+)/.exec(c[1]);if(h){f+="padding-right:"+h[1].length+"em;"}if(f){d+=j("style",f)}var i='<img src="'+c[1]+'"'+d+" />";if(c.length>2){i=l("a",j("href",c[2]),i)}a=a.replace(b,i)}return a}function l(a,b,c){return"<"+a+b+">"+c+"</"+a+">"}function k(a){var c="";var d="";if(!a){return""}var e=/\[(\w\w)\]/.exec(a);if(e!==null){d+=j("lang",e[1])}var f=/\((\S+)\)/.exec(a);if(f!==null){a=a.replace(/\((\S+)\)/,"");d+=f[1].replace(/#(.*)$/,' id="$1"').replace(/^(\S+)/,' class="$1"')}var g=/(<>|=|<|>)/.exec(a);if(g){c+="text-align:"+b[g[1]]+";"}var h=/\{(\S+)\}/.exec(a);if(h){c+=h[1];if(!h[1].match(/;$/)){c+=";"}}var i=/(\(+)/.exec(a);if(i){c+="padding-left:"+i[1].length+"em;"}var k=/(\)+)/.exec(a);if(k){c+="padding-right:"+k[1].length+"em;"}if(c){d+=j("style",c)}return d}function j(a,b){return" "+a+'="'+b+'"'}function i(a){if(a){d=0}if(e){g+="</p>"+f;e=0}if(c&&!d){g+="</blockquote>"+f;c=0}}var b={">":"right","<":"left","=":"center","<>":"justify","~":"bottom","^":"top"};var c=0;var d=0;var e=0;var f="\n\n";var g="";var h=[];return this.html(p(a))}};a.fn.JQtextile=function(c){if(b[c]){return b[c].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof c==="object"||!c){return b.init.apply(this,arguments)}else{a.error("Method "+c+" does not exist on jQuery.JQtextile")}}})(jQuery)